(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"4c41":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500",elevation:"2",outlined:"",shaped:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[t._v("我的")]),a("v-list-item-title",{staticClass:"headline mb-1"},[t._v(" "+t._s(t.$store.state.user.uname)+" ")]),a("v-list-item-subtitle",[t._v(t._s(t.$store.state.user.email)+" ")]),a("v-list-item-subtitle",[t._v("注册时间："+t._s(t.$store.state.user.regtime)+" ")])],1),a("v-list-item-avatar",{attrs:{tile:"",size:"62"}},[a("v-avatar",{attrs:{color:t.$store.state.sys.color,size:"62"},on:{click:t.changeUserLogo}},[null!=t.$store.state.user.logo?a("img",{attrs:{alt:t.$store.state.user.uname,src:t.$store.state.user.logo}}):t._e(),null==t.$store.state.user.logo?a("span",{staticClass:"white--text headline"},[t._v(t._s(t.$store.state.user.uname.slice(0,2)))]):t._e()])],1)],1),a("v-card-actions",[-1==t.$store.state.user.uid?a("div",{attrs:{id:"nologin"}},[a("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return t.$store.commit("dialog","Login")}}},[t._v("登录 ")]),a("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return t.$store.commit("dialog","Register")}}},[t._v("注册 ")])],1):t._e(),-1!=t.$store.state.user.uid?a("div",{attrs:{id:"islogin"}},[a("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return t.$store.commit("dialog","Useredit")}}},[t._v("修改资料 ")]),a("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:function(e){return t.logout()}}},[t._v("退出")])],1):t._e()])],1),a("v-card",{staticClass:"mx-auto",staticStyle:{top:"10px"},attrs:{elevation:"2","max-width":"500",outlined:"",shaped:""}},[a("v-list",{attrs:{shaped:""}},[a("v-list-item-group",{attrs:{color:t.$store.state.sys.color}},[a("v-list-item",{on:{click:function(e){return t.openOrder()}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-gift-open")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("订单列表")])],1)],1),1==t.$store.state.user.type&&1==t.$store.state.sys.isMobile?a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-key")])],1),a("v-list-item-content",[a("v-list-item-title",{on:{click:function(e){t.$store.state.sys.isMobile=!1}}},[t._v("开启管理面板 ")]),a("v-list-item-title",{on:{click:function(e){t.$store.state.sys.isMobile=!1}}},[t._v("(手机端默认不显示入口) ")])],1)],1):t._e()],1)],1)],1)],1)],1)},o=[],i={name:"My",components:{},data:function(){return{}},mounted:function(){},methods:{openOrder:function(){-1!=this.$store.state.user.uid?this.$router.push({path:"/myorder"}):this.$store.commit("dialog","Login")},logout:function(){this.$axios.get("/user/logout").then((function(t){200==t.data.code&&(alert("退出成功"),top.location.reload())})).catch((function(t){console.log(t)}))},changeUserLogo:function(){}}},n=i,r=a("2877"),c=a("6544"),d=a.n(c),l=a("8212"),u=a("8336"),v=a("b0af"),m=a("99d9"),h=a("a523"),g=a("132d"),p=a("8860"),f=a("da13"),_=a("8270"),b=a("5d23"),x=a("1baa"),y=a("34c3"),k=Object(r["a"])(n,s,o,!1,null,null,null);e["default"]=k.exports;d()(k,{VAvatar:l["a"],VBtn:u["a"],VCard:v["a"],VCardActions:m["a"],VContainer:h["a"],VIcon:g["a"],VList:p["a"],VListItem:f["a"],VListItemAvatar:_["a"],VListItemContent:b["a"],VListItemGroup:x["a"],VListItemIcon:y["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"]})},cf2a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("订单管理")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.orders,search:t.search,"sort-by":"oid","sort-desc":!0,"show-expand":""},scopedSlots:t._u([{key:"item.category",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.categoryMap.get(a.category))+" ")]}},{key:"item.state",fn:function(e){var s=e.item;return[0==s.state?a("v-chip",{attrs:{color:"warning"}},[t._v("未付款")]):t._e(),1==s.state?a("v-chip",{attrs:{color:"success"}},[t._v("已付款")]):t._e(),2==s.state?a("v-chip",{attrs:{color:"error"}},[t._v("已取消")]):t._e()]}},{key:"expanded-item",fn:function(e){var s=e.headers,o=e.item;return[a("td",{attrs:{colspan:s.length}},[t._v(" 用户ID："+t._s(o.user_snapshot.uid)+" 用户名："+t._s(o.user_snapshot.uname)+" 电子邮箱："+t._s(o.user_snapshot.email)+" 电话："+t._s(o.user_snapshot.phone)+" 生日："+t._s(o.user_snapshot.birthday)+" 注册时间："+t._s(o.user_snapshot.regtime)+" "),a("br"),t._v(" 商品ID："+t._s(o.goods_snapshot.gid)+" 商品名："+t._s(o.goods_snapshot.gname)+" 分类："+t._s(o.goods_snapshot.category)+" 价格："+t._s(o.goods_snapshot.price)+" 详情："+t._s(o.goods_snapshot.details)+" 备注："+t._s(o.goods_snapshot.remarks)+" ")])]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("订单列表")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"搜索","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("确定删除该订单？")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("取消 ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("确定删除 ")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[0==s.state?a("v-btn",{attrs:{loading:t.loading,color:"warning"},on:{click:function(e){return t.pay(s)}}},[t._v("立即付款")]):t._e(),2!=s.state?a("v-btn",{attrs:{loading:t.loading,color:"error"},on:{click:function(e){return t.closeOrder(s)}}},[t._v("取消订单 ")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.getOrdersByAll()}}},[t._v(" 当前无订单-点此刷新")])]},proxy:!0}],null,!0)}),a("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.message)+" ")])],1)},o=[],i=(a("a434"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("b64b"),a("b0c0"),{name:"User-Order",components:{},data:function(){return{search:"",dialog:!1,dialogDelete:!1,loading:!1,message:"",snackbar:!1,headers:[{text:"订单ID",align:"start",sortable:!0,value:"oid"},{text:"商品ID",value:"gid"},{text:"商品名称",value:"goods_snapshot.gname"},{text:"订单时间",value:"ordertime"},{text:"折扣",value:"discount"},{text:"应付",value:"price"},{text:"实付",value:"pay"},{text:"用户id",value:"uid"},{text:"用户名",value:"user_snapshot.uname"},{text:"手机号",value:"user_snapshot.phone"},{text:"状态",value:"state"},{text:"展开快照",value:"data-table-expand"},{text:"操作",value:"actions",sortable:!1}],orders:[]}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},mounted:function(){this.getOrdersByAll()},methods:{getOrdersByAll:function(){var t=this;this.$axios.get("/order").then((function(e){var a=t;if(200==e.data.code){a.loading=!1;for(var s=e.data.data,o=0;o<e.data.data.length;o++)e.data.data[o].goods_snapshot=JSON.parse(e.data.data[o].goods_snapshot),e.data.data[o].user_snapshot=JSON.parse(e.data.data[o].user_snapshot);a.orders=s}})).catch((function(t){console.log(t)}))},pay:function(t){var e=this;this.loading=!0,this.$axios.get("/order/"+t.oid+"/pay").then((function(t){var a=e;200==t.data.code?(a.message=t.data.meg,a.snackbar=!0):(a.message="失败，错误信息："+t.data.meg,a.snackbar=!0)})).catch((function(t){var a=e;a.message="失败，错误信息："+t,a.snackbar=!0})),setTimeout((function(){e.getOrdersByAll(),e.loading=!1}),2e3)},closeOrder:function(t){var e=this;confirm("确定取消订单吗？")&&(this.loading=!0,this.$axios.get("/order/"+t.oid+"/close").then((function(t){var a=e;200==t.data.code?(a.message=t.data.meg,a.snackbar=!0):(a.message="失败，错误信息："+t.data.meg,a.snackbar=!0)})).catch((function(t){var a=e;a.message="失败，错误信息："+t,a.snackbar=!0}))),setTimeout((function(){e.getOrdersByAll(),e.loading=!1}),2e3)},initialize:function(){this.orders=[{oid:1,uid:1,gid:2,ordertime:"2020-04-22 12:00:00",state:0,price:3,discount:1,pay:3,goods_snapshot:{gid:2,gname:"薯片",price:3,category:2,total:100,state:0,stock:99,remarks:"薯片好哈",details:"薯片薯片薯片薯片薯片",pic:"123"},user_snapshot:{birthday:"2002-06-02",email:"1277@qq.com",logo:"1",password:"1",phone:"18156551486",regtime:"2021-04-01",type:1,uname:"张东祥",uid:1}},{oid:2,uid:1,gid:2,ordertime:"2020-04-22 12:00:00",state:1,price:3,discount:1,pay:3,goods_snapshot:{gid:2,gname:"薯片",price:3,category:2,total:100,state:0,stock:99,remarks:"薯片好哈",details:"薯片薯片薯片薯片薯片",pic:"123"},user_snapshot:{birthday:"2002-06-02",email:"1277@qq.com",logo:"1",password:"1",phone:"18156551486",regtime:"2021-04-01",type:1,uname:"张东祥",uid:1}},{oid:2,uid:1,gid:2,ordertime:"2020-04-22 12:00:00",state:2,price:3,discount:1,pay:3,goods_snapshot:{gid:2,gname:"薯片",price:3,category:2,total:100,state:0,stock:99,remarks:"薯片好哈",details:"薯片薯片薯片薯片薯片",pic:"123"},user_snapshot:{birthday:"2002-06-02",email:"1277@qq.com",logo:"1",password:"1",phone:"18156551486",regtime:"2021-04-01",type:1,uname:"张东祥",uid:1}}]},editItem:function(t){this.editedIndex=this.orders.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.orders.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){this.orders.splice(this.editedIndex,1),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.orders[this.editedIndex],this.editedItem):this.orders.push(this.editedItem),this.close()},objToMap:function(t){for(var e=new Map,a=0,s=Object.keys(t);a<s.length;a++){var o=s[a];e.set(t[o].id,t[o].name)}this.categoryMap=e},addCategoryName:function(){for(var t=0;t<this.orders.length;t++){var e=this.orders[t];e.categoryName=this.categoryMap.get(e.category)}}}}),n=i,r=a("2877"),c=a("6544"),d=a.n(c),l=a("8336"),u=a("b0af"),v=a("99d9"),m=a("cc20"),h=a("a523"),g=a("8fea"),p=a("169a"),f=a("ce7e"),_=a("2db4"),b=a("2fa4"),x=a("8654"),y=a("71d9"),k=a("2a7f"),I=Object(r["a"])(n,s,o,!1,null,null,null);e["default"]=I.exports;d()(I,{VBtn:l["a"],VCard:u["a"],VCardActions:v["a"],VCardTitle:v["c"],VChip:m["a"],VContainer:h["a"],VDataTable:g["a"],VDialog:p["a"],VDivider:f["a"],VSnackbar:_["a"],VSpacer:b["a"],VTextField:x["a"],VToolbar:y["a"],VToolbarTitle:k["a"]})},cf5b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("Goodlist")],1)],1)},o=[],i=a("8588"),n={components:{Goodlist:i["a"]},data:function(){return{}}},r=n,c=a("2877"),d=a("6544"),l=a.n(d),u=a("a523"),v=Object(c["a"])(r,s,o,!1,null,null,null);e["default"]=v.exports;l()(v,{VContainer:u["a"]})}}]);
//# sourceMappingURL=about.758d8231.js.map